{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Build a full-stack web-based 2D Chinese New Year themed hidden-object game with 3 levels, user authentication, and persistent player progress stored in a database via a REST API.",
  "existing_features": [
    {
      "id": "feature-implement-authentication-using-internet-identity-and-associate-all-player-data-with-the-authenticated-principal-replace-the-requested-username-password-login-with-ii-due-to-platform-constraints-provide-ui-flows-for-sign-in-sign-out-and-showing-the-currently-signed-in-identity-state",
      "title": "Implement authentication using Internet Identity and associate all player data with the authenticated Principal (replace the requested username/password login with II due to platform constraints). Provide UI flows for sign-in, sign-out, and showing the currently signed-in identity state.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-build-the-frontend-app-screens-and-navigation-1-auth-screen-internet-identity-sign-in-2-level-select-screen-showing-3-levels-with-completed-incomplete-indicators-3-gameplay-screen-for-the-selected-level-4-level-complete-screen-and-5-game-complete-screen-when-all-levels-are-completed",
      "title": "Build the frontend app screens and navigation: (1) Auth screen (Internet Identity sign-in), (2) Level Select screen showing 3 levels with completed/incomplete indicators, (3) Gameplay screen for the selected level, (4) Level Complete screen, and (5) Game Complete screen when all levels are completed.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-hidden-object-gameplay-logic-for-3-levels-in-2d-scenes-level-1-requires-finding-5-red-envelopes-angpao-level-2-requires-finding-5-coins-level-3-requires-finding-5-mochi-each-level-must-render-a-scene-with-multiple-clickable-hidden-objects-clicking-an-unfound-target-marks-it-found-updates-the-on-screen-counter-e-g-2-5-and-triggers-a-simple-visual-sound-feedback-when-all-5-targets-are-found-the-level-is-marked-completed-and-saved-to-the-backend-for-the-signed-in-user",
      "title": "Implement the hidden-object gameplay logic for 3 levels in 2D scenes: Level 1 requires finding 5 red envelopes (angpao), Level 2 requires finding 5 coins, Level 3 requires finding 5 mochi. Each level must render a scene with multiple clickable hidden objects; clicking an unfound target marks it found, updates the on-screen counter (e.g., 2/5), and triggers a simple visual + sound feedback. When all 5 targets are found, the level is marked completed and saved to the backend for the signed-in user.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-use-react-query-to-fetch-and-cache-the-authenticated-user-s-progress-from-the-canister-and-ensure-the-cache-is-invalidated-refetched-after-marking-a-level-completed-so-the-level-select-screen-updates-immediately",
      "title": "Use React Query to fetch and cache the authenticated user's progress from the canister, and ensure the cache is invalidated/refetched after marking a level completed so the Level Select screen updates immediately.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-organize-level-definitions-in-a-data-driven-way-e-g-a-single-config-describing-level-id-target-type-and-target-placements-so-that-adding-a-new-level-requires-minimal-code-changes",
      "title": "Organize level definitions in a data-driven way (e.g., a single config describing level id, target type, and target placements) so that adding a new level requires minimal code changes.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-coherent-chinese-new-year-visual-theme-red-and-gold-palette-festive-patterns-ornaments-lantern-motifs-consistently-across-all-screens-while-keeping-graphics-lightweight-and-performance-friendly",
      "title": "Apply a coherent Chinese New Year visual theme (red and gold palette, festive patterns/ornaments, lantern motifs) consistently across all screens, while keeping graphics lightweight and performance-friendly.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-local-developer-documentation-page-or-readme-content-that-explains-system-architecture-frontend-motoko-canister-storage-data-flow-auth-read-progress-play-save-completion-and-step-by-step-instructions-to-run-locally-deploy-canister-start-frontend",
      "title": "Add a local developer documentation page or README content that explains: system architecture (frontend + Motoko canister storage), data flow (auth -> read progress -> play -> save completion), and step-by-step instructions to run locally (deploy canister + start frontend).",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-render-required-static-scene-art-and-object-sprites-as-frontend-static-assets-under-frontend-public-assets-generated-and-use-them-in-the-gameplay-scenes-do-not-route-image-loading-through-the-backend",
      "title": "Render required static scene art and object sprites as frontend static assets under frontend/public/assets/generated and use them in the gameplay scenes (do not route image loading through the backend).",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Frontend web app with login/register and authenticated gameplay flow",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Level select screen showing completed/incomplete status per level",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Gameplay scenes for 3 hidden-object levels (5 angpao, 5 coins, 5 mochi) with click-to-find and progress counter",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Level completion and end-of-game screens",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Basic visual/sound feedback when an object is found",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Backend REST API for register, login, get progress, and save level completion",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Database schema and persistence for users and progress (users + progress tables/collections) with migrations/setup and sample data",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Authentication mechanism (token or simple session) to store progress per player securely",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Project structure with separate frontend/backend folders plus local run instructions and key-code explanations",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Create backend persistent storage in Motoko for per-user progress across 3 levels (Level 1/2/3), including completion status and last-updated timestamp, and expose canister methods to: (1) get the current user's progress, (2) mark a level as completed, and (3) reset progress for the current user (for testing).",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    }
  ],
  "architectural_notes": [
    "Frontend separated from backend using a REST API.",
    "Simple username/password authentication with token- or session-based auth.",
    "Progress persisted in database with minimal schema: users (id, username, password hash) and progress (user_id, level, is_completed, updated_at).",
    "Design code to be easily extensible for adding new levels in the future."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "imageRequirements": "## Required Images\n- Festive Chinese New Year game background scene with lanterns, red/gold decorations, subtle patterning (cny-scene-level1.dim_1920x1080.png)\n- Festive Chinese New Year game background scene featuring coin-themed decor and ingots, red/gold palette (cny-scene-level2.dim_1920x1080.png)\n- Festive Chinese New Year game background scene featuring sweets/dessert table styling with red/gold ornaments (cny-scene-level3.dim_1920x1080.png)\n- Red envelope (angpao) object sprite, simple flat illustration, transparent background (obj-angpao.dim_256x256.png)\n- Gold coin object sprite, simple flat illustration, transparent background (obj-coin.dim_256x256.png)\n- Mochi object sprite, simple flat illustration, transparent background (obj-mochi.dim_256x256.png)\n- Chinese New Year lantern icon/illustration for UI accents, transparent background (ui-lantern.dim_256x256.png)",
  "generatedImages": [
    {
      "filename": "cny-scene-level1.dim_1920x1080.png",
      "description": "Festive Chinese New Year game background scene with lanterns, red/gold decorations, subtle patterning",
      "targetWidth": 1920,
      "targetHeight": 1080
    },
    {
      "filename": "cny-scene-level2.dim_1920x1080.png",
      "description": "Festive Chinese New Year game background scene featuring coin-themed decor and ingots, red/gold palette",
      "targetWidth": 1920,
      "targetHeight": 1080
    },
    {
      "filename": "cny-scene-level3.dim_1920x1080.png",
      "description": "Festive Chinese New Year game background scene featuring sweets/dessert table styling with red/gold ornaments",
      "targetWidth": 1920,
      "targetHeight": 1080
    },
    {
      "filename": "obj-angpao.dim_256x256.png",
      "description": "Red envelope (angpao) object sprite, simple flat illustration, transparent background",
      "targetWidth": 256,
      "targetHeight": 256
    },
    {
      "filename": "obj-coin.dim_256x256.png",
      "description": "Gold coin object sprite, simple flat illustration, transparent background",
      "targetWidth": 256,
      "targetHeight": 256
    },
    {
      "filename": "obj-mochi.dim_256x256.png",
      "description": "Mochi object sprite, simple flat illustration, transparent background",
      "targetWidth": 256,
      "targetHeight": 256
    },
    {
      "filename": "ui-lantern.dim_256x256.png",
      "description": "Chinese New Year lantern icon/illustration for UI accents, transparent background",
      "targetWidth": 256,
      "targetHeight": 256
    }
  ],
  "gameProjectType": "2d",
  "projectName": "Chinese New Year Hidden-Object Web Game (3 Levels) with Internet Identity Auth and Persistent Progress",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}